/*
 * @author:Lau
 * @version:V1.0 
 * @since:23 April 2019
 * 
 * */

public class Example{
	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Game G=new Game();
		G.run();
	}
}

/*
 * @author:Lau
 * @version:V1.2 
 * @since:30 April 2019
 * update_log:V1.2 Splitting up class Game 
 *            V1.1 Change function;
 *            V1.0 Create code.
 * 
 * */

class Game 	{
	/**游戏主体**/
	void run(){
		// TODO Auto-run
		//Return no value
		int score_player=0;
		int score_computer=0;
		int count=1;
		Player p=new Player(score_player);
		Computer c=new Computer(score_computer);
		while(true){
			System.out.println("第"+count+"回合");			
			score_player=p.play();
			score_computer=c.play();
			System.out.println("你的得分为;"+score_player+",计算机的得分为："+score_computer);
			if(score_computer>=100||score_player>=100)break;
			count++;
			}
		if (score_computer>=100)System.out.println("hhh,我赢了！");
		else System.out.println("GDX,你赢了！");}		
}

/*
 * @author:Lau
 * @version:V1.0 
 * @since:30 April 2019
 * update_log: V1.0 Create code.
 * 
 * */

import java.util.Random;

class Computer {
	int score_computer=0;

	Computer(int score){
		/**Constructor
		 * @param score has been preserved by Class Game.
		 * @param score_computer has been preserved at last.
		 * **/
		score_computer=score;
	}

	int play(){
		/**@param tmp data cache.
		 * @param num2 which come from random.
		 * @return score_computer
		 * */
		int tmp=0;
		System.out.println("计算机的决策");
		while(true){
			Random rand2 = new Random();//实例化随机数类
			int num2 =rand2.nextInt(6)+1;//生成从1到6的随机数
			System.out.println("计算机当前掷出的点数为"+num2);
			if (num2==1) {
				System.out.println("计算机当前决策结束");
				break;}
			else 	{
				tmp+=num2;	
				if(tmp>=20){
					score_computer+=tmp;
					System.out.println("计算机当前掷出的点数累计已满20,已保存，决策结束");
					break;}
			}
		}
		return score_computer;
	}
}

/*
 * @author:Lau
 * @version:V1.0 
 * @since:30 April 2019
 * update_log: V1.0 Create code.
 * 
 * */


import java.util.Random;
import java.util.Scanner;

 class Player {
	Player(int score1){
		/**@param score1 has been preserved by Class Game.
		 * Constructor
		 * **/
		score=score1;
	}
	int score=0;/**@param score the score at this moment**/
	int play(){
		System.out.println("你的决策是？");
		while(true){
			Random rand = new Random();
			int num =rand.nextInt(6)+1;	//生成从1到6的随机数
			if(num==1){
				System.out.println("你的点数为1，当前决策结束");
				break;}
			else {
				System.out.println("你当前掷出的点数为"+num);
				System.out.println("请输入指令：（r：重掷  h:保存得分)");
				Scanner conmmand=new Scanner(System.in);
				String cmd1=conmmand.next();
				/**@param cmd1 command by input.
				 * @param cmd After change String to Char.
				 **/
				char cmd=cmd1.charAt(0);
				if (cmd=='r')continue;
				else if (cmd=='h'){
					score+=num;
					break;}
				conmmand.close();}
		}
		return score;
	}
}
